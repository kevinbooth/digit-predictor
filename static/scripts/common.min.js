var DR=window.DR||{canvas:"",context:"",mouse:"",prevMouse:""};DR.ready=function(a){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?a():document.addEventListener("DOMContentLoaded",a)},DR.init=function(){DR.initDrawing();const a=document.querySelector("#predict"),b=document.querySelector("#clear");a.addEventListener("click",function(){DR.predict()}),b.addEventListener("click",function(){DR.clear()})},DR.initDrawing=function(){DR.canvas=document.querySelector("#canvas"),DR.context=canvas.getContext("2d"),DR.canvas.width=280,DR.canvas.height=280,DR.mouse={x:0,y:0},DR.prevMouse={x:0,y:0},DR.context.fillStyle="black",DR.context.fillRect(0,0,DR.canvas.width,DR.canvas.height),DR.context.color="white",DR.context.lineWidth=30,DR.context.lineJoin=DR.context.lineCap="round",DR.canvas.addEventListener("mousemove",function(a){DR.prevMouse.x=DR.mouse.x,DR.prevMouse.y=DR.mouse.y,DR.mouse.x=a.pageX-this.offsetLeft,DR.mouse.y=a.pageY-this.offsetTop},!1),DR.canvas.addEventListener("mousedown",function(a){DR.canvas.addEventListener("mousemove",DR.draw,!1)},!1),DR.canvas.addEventListener("mouseup",function(){DR.canvas.removeEventListener("mousemove",DR.draw,!1)},!1)},DR.draw=function(){DR.context.lineWidth=DR.context.lineWidth,DR.context.lineJoin="round",DR.context.lineCap="round",DR.context.strokeStyle=DR.context.color,DR.context.beginPath(),DR.context.moveTo(DR.prevMouse.x,DR.prevMouse.y),DR.context.lineTo(DR.mouse.x,DR.mouse.y),DR.context.closePath(),DR.context.stroke()},DR.clear=function(){DR.context.clearRect(0,0,280,280),DR.context.fillStyle="black",DR.context.fillRect(0,0,canvas.width,canvas.height)},DR.predict=function(){const a=DR.canvas.toDataURL("image/jpg");fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(a){console.log(a)}).catch(function(a){})},DR.ready(DR.init);